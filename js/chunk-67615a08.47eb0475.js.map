{"version":3,"sources":["webpack:///./src/views/main/system/user/user.vue?3a76","webpack:///./src/views/main/system/user/user.vue?0a5a","webpack:///./src/views/main/system/user/config/search.config.ts","webpack:///./src/views/main/system/user/config/content.config.ts","webpack:///./src/hooks/usePageSearch.ts","webpack:///./src/views/main/system/user/config/modal.config.ts","webpack:///./src/views/main/system/user/user.vue","webpack:///./src/views/main/system/user/user.vue?2fdd"],"names":["_pushScopeId","_hoisted_1","class","_hoisted_2","_hoisted_3","render","_ctx","_cache","$props","$setup","$data","$options","_component_page_search","_resolveComponent","_component_page_content","_component_page_modal","_openBlock","_createElementBlock","_createElementVNode","_createVNode","searchConfig","onReset","reset","onQuery","query","ref","contentTableConfig","pageName","onCreate","create","onEdit","edit","defaultInfo","modalConfig","modalConfigRef","_popScopeId","formItems","field","label","type","placeholder","options","value","otherOptions","labelWidth","colLayout","span","itemStyle","padding","propList","prop","minWidth","slotName","title","showIndexColumn","showSelectionColumn","usePageSearch","pageContentRef","getList","queryInfo","console","log","isHidden","defineComponent","components","PageSearch","pageContent","PageModal","name","setup","createNew","passwordItem","find","item","editNew","store","useStore","computed","departItem","state","department","map","id","roleItem","role","pageModalRef","usePageModal","__exports__"],"mappings":"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","file":"js/chunk-67615a08.47eb0475.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./user.vue?vue&type=style&index=0&id=134e59a5&lang=less&scoped=true\"","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-134e59a5\")\nconst _hoisted_1 = { class: \"user\" }\nconst _hoisted_2 = { class: \"search\" }\nconst _hoisted_3 = { class: \"content\" }\n_popScopeId()\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_page_search = _resolveComponent(\"page-search\")!\n  const _component_page_content = _resolveComponent(\"page-content\")!\n  const _component_page_modal = _resolveComponent(\"page-modal\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_page_search, {\n        searchConfig: _ctx.searchConfig,\n        onReset: _ctx.reset,\n        onQuery: _ctx.query\n      }, null, 8, [\"searchConfig\", \"onReset\", \"onQuery\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(_component_page_content, {\n        ref: \"pageContentRef\",\n        contentTableConfig: _ctx.contentTableConfig,\n        pageName: \"users\",\n        onCreate: _ctx.create,\n        onEdit: _ctx.edit\n      }, null, 8, [\"contentTableConfig\", \"onCreate\", \"onEdit\"]),\n      _createVNode(_component_page_modal, {\n        ref: \"pageModalRef\",\n        defaultInfo: _ctx.defaultInfo,\n        modalConfig: _ctx.modalConfigRef,\n        pageName: \"users\"\n      }, null, 8, [\"defaultInfo\", \"modalConfig\"])\n    ])\n  ]))\n}","import { IForm } from '@/base-ui/form/types'\n\nexport const searchConfig: IForm = {\n  formItems: [\n    {\n      field: 'name',\n      label: '用户名',\n      type: 'input',\n      placeholder: '请输入用户名'\n    },\n    {\n      field: 'realname',\n      label: '真实姓名',\n      type: 'input',\n      placeholder: '请输入密码'\n    },\n    {\n      field: 'hobby',\n      label: '爱好',\n      type: 'select',\n      placeholder: '请选择爱好',\n      options: [\n        { label: '篮球', value: '篮球' },\n        { label: '足球', value: '足球' }\n      ]\n    },\n    {\n      field: 'time',\n      label: '时间',\n      type: 'datepicker',\n      placeholder: '请选择时间',\n      otherOptions: {\n        'start-placeholder': '开始日期',\n        'end-placeholder': '结束日期',\n        type: 'daterange'\n      }\n    }\n  ],\n  labelWidth: '120px',\n  colLayout: {\n    span: 8\n  },\n  itemStyle: {\n    padding: '10px 30px'\n  }\n}\n","const propList = [\n  { prop: 'name', label: '用户名', minWidth: '100' },\n  { prop: 'realname', label: '真实姓名', minWidth: '100' },\n  { prop: 'cellphone', label: '电话号码', minWidth: '120' },\n  { prop: 'enable', label: '状态', minWidth: '100', slotName: 'status' },\n  {\n    prop: 'createAt',\n    label: '创建时间',\n    minWidth: '236',\n    slotName: 'createAt'\n  },\n  {\n    prop: 'updateAt',\n    label: '更新时间',\n    minWidth: '236',\n    slotName: 'updateAt'\n  },\n  { label: '操作', minWidth: '150', slotName: 'action' }\n]\n\nexport const contentTableConfig = {\n  title: '用户列表',\n  propList,\n  showIndexColumn: true,\n  showSelectionColumn: true\n}\n","import { ref } from 'vue'\nimport PageContent from '@/components/page-content'\n\nexport function usePageSearch() {\n  const pageContentRef = ref<InstanceType<typeof PageContent>>()\n  const reset = () => {\n    pageContentRef.value?.getList()\n  }\n\n  const query = (queryInfo: any) => {\n    pageContentRef.value?.getList(queryInfo)\n    console.log(queryInfo)\n  }\n  return [pageContentRef, reset, query]\n}\n","import { IForm } from '@/base-ui/form/types'\n\nexport const modalConfig: IForm = {\n  formItems: [\n    {\n      field: 'name',\n      label: '用户名',\n      type: 'input',\n      placeholder: '请输入用户名'\n    },\n    {\n      field: 'realname',\n      label: '真实姓名',\n      type: 'input',\n      placeholder: '请输入真实姓名'\n    },\n    {\n      field: 'password',\n      label: '密码',\n      type: 'password',\n      placeholder: '请输入密码',\n      isHidden: true\n    },\n    {\n      field: 'cellphone',\n      label: '电话号码',\n      type: 'input',\n      placeholder: '请输入电话号码'\n    },\n    {\n      field: 'departmentId',\n      label: '选择部门',\n      type: 'select',\n      placeholder: '请选择部门',\n      options: []\n    },\n    {\n      field: 'roleId',\n      label: '选择角色',\n      type: 'select',\n      placeholder: '请选择角色',\n      options: []\n    }\n  ],\n  colLayout: {\n    span: 24\n  },\n  itemStyle: {}\n}\n","\nimport { defineComponent, computed } from 'vue'\nimport { searchConfig } from './config/search.config'\nimport { contentTableConfig } from './config/content.config'\nimport PageSearch from '@/components/page-search/index'\nimport pageContent from '@/components/page-content'\nimport PageModal from '@/components/page-modal'\n\nimport { usePageSearch } from '@/hooks/usePageSearch'\nimport { modalConfig } from './config/modal.config'\n\nimport { usePageModal } from '@/hooks/useModal'\n\nimport { useStore } from '@/store'\n\nexport default defineComponent({\n  components: { PageSearch, pageContent, PageModal },\n  name: 'user',\n  setup() {\n    const [pageContentRef, reset, query] = usePageSearch()\n\n    const createNew = () => {\n      const passwordItem = modalConfig.formItems.find(\n        (item) => item.field == 'password'\n      )\n      passwordItem!.isHidden = false\n    }\n\n    const editNew = () => {\n      const passwordItem = modalConfig.formItems.find(\n        (item) => item.field == 'password'\n      )\n      passwordItem!.isHidden = true\n    }\n\n    //2.动态添加部门和角色管理\n    const store = useStore()\n\n    /**\n     * 这个地方利用computed来达到响应式处理\n     */\n    const modalConfigRef = computed(() => {\n      const departItem = modalConfig.formItems.find(\n        (item) => item.field == 'departmentId'\n      )\n      departItem!.options = store.state.department.map((item) => {\n        return {\n          label: item.name,\n          value: item.id\n        }\n      })\n\n      const roleItem = modalConfig.formItems.find(\n        (item) => item.field == 'roleId'\n      )\n      // console.log('role', store.state.role)\n      /**role 会打印两次，第一次是空的，第二次store里面的role发生变化后，\n       * 这里的computed 会重新计算\n       *\n       */\n\n      roleItem!.options = store.state.role.map((item) => {\n        return {\n          label: item.name,\n          value: item.id\n        }\n      })\n\n      return modalConfig\n    })\n\n    //3.调用hook获取公共变量和函数\n    const [pageModalRef, defaultInfo, create, edit] = usePageModal(\n      createNew,\n      editNew\n    )\n\n    return {\n      searchConfig,\n      contentTableConfig,\n      reset,\n      query,\n      pageContentRef,\n      modalConfigRef,\n      create,\n      edit,\n      pageModalRef,\n      defaultInfo\n    }\n  }\n})\n","import { render } from \"./user.vue?vue&type=template&id=134e59a5&scoped=true&ts=true\"\nimport script from \"./user.vue?vue&type=script&lang=ts\"\nexport * from \"./user.vue?vue&type=script&lang=ts\"\n\nimport \"./user.vue?vue&type=style&index=0&id=134e59a5&lang=less&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/vue3-ts-xg/vue3-ts-xg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-134e59a5\"]])\n\nexport default __exports__"],"sourceRoot":""}