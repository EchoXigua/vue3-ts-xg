{"version":3,"sources":["webpack:///./src/views/main/system/role/role.vue?0fb7","webpack:///./src/views/main/system/role/role.vue?5433","webpack:///./src/views/main/system/role/config/content.config.ts","webpack:///./src/views/main/system/role/config/search.config.ts","webpack:///./src/views/main/system/role/config/modal.config.ts","webpack:///./src/views/main/system/role/role.vue","webpack:///./src/views/main/system/role/role.vue?c2f5"],"names":["_pushScopeId","_hoisted_1","class","_hoisted_2","_hoisted_3","render","_ctx","_cache","$props","$setup","$data","$options","_component_PageSearch","_resolveComponent","_component_page_content","_component_el_tree","_component_page_modal","_openBlock","_createElementBlock","_createElementVNode","_createVNode","searchConfig","contentTableConfig","onCreate","create","onEdit","edit","ref","defaultInfo","modalConfig","otherInfo","pageName","default","_withCtx","data","menus","props","children","label","onCheck","checkChange","_","_popScopeId","propList","prop","minWidth","slotName","title","showIndexColumn","showSelectionColumn","formItems","field","type","placeholder","otherOptions","labelWidth","colLayout","span","itemStyle","padding","defineComponent","name","components","PageContent","PageSearch","PageModal","setup","elTreeRef","editCallback","item","leafList","menuMapLeafKeys","menuList","nextTick","value","setCheckedKeys","console","log","pageModalRef","usePageModal","undefined","store","useStore","computed","state","menu","checkedNodes","halfCheckedNodes","checkKeys","checkedKeys","halfCheckedKeys","__exports__"],"mappings":"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","file":"js/chunk-88b1f7b8.b919a409.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./role.vue?vue&type=style&index=0&id=241a59a8&scoped=true&lang=css\"","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-241a59a8\")\nconst _hoisted_1 = { class: \"role\" }\nconst _hoisted_2 = { class: \"search\" }\nconst _hoisted_3 = { class: \"content\" }\n_popScopeId()\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_PageSearch = _resolveComponent(\"PageSearch\")!\n  const _component_page_content = _resolveComponent(\"page-content\")!\n  const _component_el_tree = _resolveComponent(\"el-tree\")!\n  const _component_page_modal = _resolveComponent(\"page-modal\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_PageSearch, { \"search-config\": _ctx.searchConfig }, null, 8, [\"search-config\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(_component_page_content, {\n        \"content-table-config\": _ctx.contentTableConfig,\n        \"page-name\": \"role\",\n        onCreate: _ctx.create,\n        onEdit: _ctx.edit\n      }, null, 8, [\"content-table-config\", \"onCreate\", \"onEdit\"]),\n      _createVNode(_component_page_modal, {\n        ref: \"pageModalRef\",\n        defaultInfo: _ctx.defaultInfo,\n        modalConfig: _ctx.modalConfig,\n        otherInfo: _ctx.otherInfo,\n        pageName: \"role\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_tree, {\n            ref: \"elTreeRef\",\n            data: _ctx.menus,\n            \"show-checkbox\": \"\",\n            \"node-key\": \"id\",\n            props: { children: 'children', label: 'name' },\n            class: \"menu-tree\",\n            onCheck: _ctx.checkChange\n          }, null, 8, [\"data\", \"onCheck\"])\n        ]),\n        _: 1\n      }, 8, [\"defaultInfo\", \"modalConfig\", \"otherInfo\"])\n    ])\n  ]))\n}","const propList = [\n  { prop: 'name', label: '角色名', minWidth: '100' },\n  { prop: 'intro', label: '权限介绍', minWidth: '100' },\n  {\n    prop: 'createAt',\n    label: '创建时间',\n    minWidth: '236',\n    slotName: 'createAt'\n  },\n  {\n    prop: 'updateAt',\n    label: '更新时间',\n    minWidth: '236',\n    slotName: 'updateAt'\n  },\n  { label: '操作', minWidth: '150', slotName: 'action' }\n]\n\nexport const contentTableConfig = {\n  title: '用户列表',\n  propList,\n  showIndexColumn: true,\n  showSelectionColumn: true\n}\n","import { IForm } from '@/base-ui/form/types'\n\nexport const searchConfig: IForm = {\n  formItems: [\n    // {\n    //   field: 'id',\n    //   label: 'id',\n    //   type: 'input',\n    //   placeholder: '请输入id'\n    // },\n    {\n      field: 'name',\n      label: '角色名',\n      type: 'input',\n      placeholder: '请输入角色名'\n    },\n    {\n      field: 'intro',\n      label: '权限介绍',\n      type: 'input',\n      placeholder: '请输入权限介绍'\n    },\n    {\n      field: 'time',\n      label: '创建时间',\n      type: 'datepicker',\n      placeholder: '请选择创建时间',\n      otherOptions: {\n        'start-placeholder': '开始日期',\n        'end-placeholder': '结束日期',\n        type: 'daterange'\n      }\n    }\n  ],\n  labelWidth: '120px',\n  colLayout: {\n    span: 8\n  },\n  itemStyle: {\n    padding: '10px 30px'\n  }\n}\n","import { IForm } from '@/base-ui/form/types'\n\nexport const modalConfig: IForm = {\n  formItems: [\n    {\n      field: 'name',\n      label: '角色名',\n      type: 'input',\n      placeholder: '请输入角色名'\n    },\n    {\n      field: 'intro',\n      label: '角色介绍',\n      type: 'input',\n      placeholder: '请输入角色介绍'\n    }\n  ],\n  colLayout: {\n    span: 24\n  },\n  itemStyle: {}\n}\n","\nimport { defineComponent, computed, ref, nextTick } from 'vue'\nimport PageContent from '@/components/page-content'\nimport { contentTableConfig } from './config/content.config'\nimport PageSearch from '@/components/page-search'\nimport { searchConfig } from './config/search.config'\n\nimport PageModal from '@/components/page-modal'\nimport { modalConfig } from './config/modal.config'\n\nimport { usePageModal } from '@/hooks/useModal'\n\nimport { useStore } from '@/store'\nimport { menuMapLeafKeys } from '@/utils/map-menus'\nimport { ElTree } from 'element-plus'\n\nexport default defineComponent({\n  name: 'role',\n  components: { PageContent, PageSearch, PageModal },\n  setup() {\n    //1.处理pageModal的hook 的 编辑回显tree\n    const elTreeRef = ref<InstanceType<typeof ElTree>>()\n    const editCallback = (item: any) => {\n      const leafList = menuMapLeafKeys(item.menuList)\n      //elTree组件\n      nextTick(() => {\n        elTreeRef.value?.setCheckedKeys(leafList, false)\n      })\n      console.log(leafList)\n    }\n\n    //3.调用hook获取公共变量和函数\n    const [pageModalRef, defaultInfo, create, edit] = usePageModal(\n      undefined,\n      editCallback\n    )\n\n    const store = useStore()\n\n    //使用computed 来确保menus是响应式的\n    const menus = computed(() => store.state.menu)\n\n    const otherInfo = ref({})\n\n    const checkChange = (checkedNodes: any, halfCheckedNodes: any) => {\n      const checkKeys = halfCheckedNodes.checkedKeys\n      const halfCheckedKeys = halfCheckedNodes.halfCheckedKeys\n      const menuList = [...checkKeys, ...halfCheckedKeys]\n      otherInfo.value = { menuList }\n    }\n    return {\n      contentTableConfig,\n      searchConfig,\n      modalConfig,\n      pageModalRef,\n      defaultInfo,\n      create,\n      edit,\n      menus,\n      otherInfo,\n      checkChange,\n      elTreeRef\n    }\n  }\n})\n","import { render } from \"./role.vue?vue&type=template&id=241a59a8&scoped=true&ts=true\"\nimport script from \"./role.vue?vue&type=script&lang=ts\"\nexport * from \"./role.vue?vue&type=script&lang=ts\"\n\nimport \"./role.vue?vue&type=style&index=0&id=241a59a8&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/vue3-ts-xg/vue3-ts-xg/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-241a59a8\"]])\n\nexport default __exports__"],"sourceRoot":""}